{"version":3,"sources":["../../src/hashFileNode.ts","../node_modules/safe-buffer/index.js","../node_modules/inherits/inherits_browser.js","../node_modules/sha.js/hash.js","../node_modules/sha.js/sha1.js","../node_modules/sha.js/sha256.js"],"names":["hashFile","file","a","algorithm","hashEncoding","engine","sha1","sha256","update","digest","gitHashFile","size","byteLength","filePrefix","toString","String","fromCharCode","buffer","require","Buffer","copyProps","src","dst","key","SafeBuffer","arg","encodingOrOffset","length","from","alloc","allocUnsafe","allocUnsafeSlow","module","exports","TypeError","fill","encoding","buf","undefined","SlowBuffer","Object","create","ctor","superCtor","super_","prototype","constructor","value","enumerable","writable","configurable","TempCtor","Hash","blockSize","finalSize","this","_block","_finalSize","_blockSize","_len","data","enc","block","accum","offset","assigned","remainder","Math","min","i","_update","rem","bits","writeUInt32BE","lowBits","highBits","hash","_hash","Error","inherits","K","W","Array","Sha1","init","_w","call","rotl5","num","rotl30","ft","s","b","c","d","_a","_b","_c","_d","_e","M","e","readInt32BE","j","t","H","writeInt32BE","Sha256","ch","x","y","z","maj","sigma0","sigma1","gamma0","_f","_g","_h","f","g","h","T1","T2"],"mappings":"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","file":"static/js/FluidFramework-HashFallback.a63c6880.chunk.js","sourcesContent":["/*!\n * Copyright (c) Microsoft Corporation and contributors. All rights reserved.\n * Licensed under the MIT License.\n */\n\n// eslint-disable-next-line import/no-internal-modules\nimport sha1 from \"sha.js/sha1\";\n// eslint-disable-next-line import/no-internal-modules\nimport sha256 from \"sha.js/sha256\";\nimport { IsoBuffer } from \"./bufferNode\";\n\n/**\n * Hash a file. Consistent within a session, but should not be persisted and\n * is not consistent with git.\n * If called under an insecure context for a browser, this will fallback to\n * using the node implementation.\n *\n * @param file - The contents of the file in a buffer\n * @param algorithm - The hash algorithm to use, artificially constrained by what is used internally\n * @param hashEncoding - The encoding of the returned hash, also artificially constrained\n * @returns The hash of the content of the buffer\n */\n export async function hashFile(\n    file: IsoBuffer,\n    algorithm: \"SHA-1\" | \"SHA-256\" = \"SHA-1\",\n    hashEncoding: \"hex\" | \"base64\" = \"hex\",\n): Promise<string> {\n    let engine;\n    // eslint-disable-next-line default-case\n    switch (algorithm) {\n        case \"SHA-1\": {\n            engine = new sha1();\n            break;\n        }\n        case \"SHA-256\": {\n            engine = new sha256();\n            break;\n        }\n    }\n    return engine.update(file).digest(hashEncoding) as string;\n}\n\n/**\n * Create a github hash (Github hashes the string with blob and size)\n * Must be called under secure context for browsers\n *\n * @param file - The contents of the file in a buffer\n * @returns The sha1 hash of the content of the buffer with the `blob` prefix and size\n */\nexport async function gitHashFile(file: IsoBuffer): Promise<string> {\n    const size = file.byteLength;\n    const filePrefix = `blob ${size.toString()}${String.fromCharCode(0)}`;\n    const engine = new sha1();\n    return engine.update(filePrefix)\n        .update(file)\n        .digest(\"hex\") as string;\n}\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","var Buffer = require('safe-buffer').Buffer\n\n// prototype class for hash functions\nfunction Hash (blockSize, finalSize) {\n  this._block = Buffer.alloc(blockSize)\n  this._finalSize = finalSize\n  this._blockSize = blockSize\n  this._len = 0\n}\n\nHash.prototype.update = function (data, enc) {\n  if (typeof data === 'string') {\n    enc = enc || 'utf8'\n    data = Buffer.from(data, enc)\n  }\n\n  var block = this._block\n  var blockSize = this._blockSize\n  var length = data.length\n  var accum = this._len\n\n  for (var offset = 0; offset < length;) {\n    var assigned = accum % blockSize\n    var remainder = Math.min(length - offset, blockSize - assigned)\n\n    for (var i = 0; i < remainder; i++) {\n      block[assigned + i] = data[offset + i]\n    }\n\n    accum += remainder\n    offset += remainder\n\n    if ((accum % blockSize) === 0) {\n      this._update(block)\n    }\n  }\n\n  this._len += length\n  return this\n}\n\nHash.prototype.digest = function (enc) {\n  var rem = this._len % this._blockSize\n\n  this._block[rem] = 0x80\n\n  // zero (rem + 1) trailing bits, where (rem + 1) is the smallest\n  // non-negative solution to the equation (length + 1 + (rem + 1)) === finalSize mod blockSize\n  this._block.fill(0, rem + 1)\n\n  if (rem >= this._finalSize) {\n    this._update(this._block)\n    this._block.fill(0)\n  }\n\n  var bits = this._len * 8\n\n  // uint32\n  if (bits <= 0xffffffff) {\n    this._block.writeUInt32BE(bits, this._blockSize - 4)\n\n  // uint64\n  } else {\n    var lowBits = (bits & 0xffffffff) >>> 0\n    var highBits = (bits - lowBits) / 0x100000000\n\n    this._block.writeUInt32BE(highBits, this._blockSize - 8)\n    this._block.writeUInt32BE(lowBits, this._blockSize - 4)\n  }\n\n  this._update(this._block)\n  var hash = this._hash()\n\n  return enc ? hash.toString(enc) : hash\n}\n\nHash.prototype._update = function () {\n  throw new Error('_update must be implemented by subclass')\n}\n\nmodule.exports = Hash\n","/*\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined\n * in FIPS PUB 180-1\n * Version 2.1a Copyright Paul Johnston 2000 - 2002.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for details.\n */\n\nvar inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x5a827999, 0x6ed9eba1, 0x8f1bbcdc | 0, 0xca62c1d6 | 0\n]\n\nvar W = new Array(80)\n\nfunction Sha1 () {\n  this.init()\n  this._w = W\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha1, Hash)\n\nSha1.prototype.init = function () {\n  this._a = 0x67452301\n  this._b = 0xefcdab89\n  this._c = 0x98badcfe\n  this._d = 0x10325476\n  this._e = 0xc3d2e1f0\n\n  return this\n}\n\nfunction rotl1 (num) {\n  return (num << 1) | (num >>> 31)\n}\n\nfunction rotl5 (num) {\n  return (num << 5) | (num >>> 27)\n}\n\nfunction rotl30 (num) {\n  return (num << 30) | (num >>> 2)\n}\n\nfunction ft (s, b, c, d) {\n  if (s === 0) return (b & c) | ((~b) & d)\n  if (s === 2) return (b & c) | (b & d) | (c & d)\n  return b ^ c ^ d\n}\n\nSha1.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 80; ++i) W[i] = rotl1(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16])\n\n  for (var j = 0; j < 80; ++j) {\n    var s = ~~(j / 20)\n    var t = (rotl5(a) + ft(s, b, c, d) + e + W[j] + K[s]) | 0\n\n    e = d\n    d = c\n    c = rotl30(b)\n    b = a\n    a = t\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n}\n\nSha1.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(20)\n\n  H.writeInt32BE(this._a | 0, 0)\n  H.writeInt32BE(this._b | 0, 4)\n  H.writeInt32BE(this._c | 0, 8)\n  H.writeInt32BE(this._d | 0, 12)\n  H.writeInt32BE(this._e | 0, 16)\n\n  return H\n}\n\nmodule.exports = Sha1\n","/**\n * A JavaScript implementation of the Secure Hash Algorithm, SHA-256, as defined\n * in FIPS 180-2\n * Version 2.2-beta Copyright Angel Marin, Paul Johnston 2000 - 2009.\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n *\n */\n\nvar inherits = require('inherits')\nvar Hash = require('./hash')\nvar Buffer = require('safe-buffer').Buffer\n\nvar K = [\n  0x428A2F98, 0x71374491, 0xB5C0FBCF, 0xE9B5DBA5,\n  0x3956C25B, 0x59F111F1, 0x923F82A4, 0xAB1C5ED5,\n  0xD807AA98, 0x12835B01, 0x243185BE, 0x550C7DC3,\n  0x72BE5D74, 0x80DEB1FE, 0x9BDC06A7, 0xC19BF174,\n  0xE49B69C1, 0xEFBE4786, 0x0FC19DC6, 0x240CA1CC,\n  0x2DE92C6F, 0x4A7484AA, 0x5CB0A9DC, 0x76F988DA,\n  0x983E5152, 0xA831C66D, 0xB00327C8, 0xBF597FC7,\n  0xC6E00BF3, 0xD5A79147, 0x06CA6351, 0x14292967,\n  0x27B70A85, 0x2E1B2138, 0x4D2C6DFC, 0x53380D13,\n  0x650A7354, 0x766A0ABB, 0x81C2C92E, 0x92722C85,\n  0xA2BFE8A1, 0xA81A664B, 0xC24B8B70, 0xC76C51A3,\n  0xD192E819, 0xD6990624, 0xF40E3585, 0x106AA070,\n  0x19A4C116, 0x1E376C08, 0x2748774C, 0x34B0BCB5,\n  0x391C0CB3, 0x4ED8AA4A, 0x5B9CCA4F, 0x682E6FF3,\n  0x748F82EE, 0x78A5636F, 0x84C87814, 0x8CC70208,\n  0x90BEFFFA, 0xA4506CEB, 0xBEF9A3F7, 0xC67178F2\n]\n\nvar W = new Array(64)\n\nfunction Sha256 () {\n  this.init()\n\n  this._w = W // new Array(64)\n\n  Hash.call(this, 64, 56)\n}\n\ninherits(Sha256, Hash)\n\nSha256.prototype.init = function () {\n  this._a = 0x6a09e667\n  this._b = 0xbb67ae85\n  this._c = 0x3c6ef372\n  this._d = 0xa54ff53a\n  this._e = 0x510e527f\n  this._f = 0x9b05688c\n  this._g = 0x1f83d9ab\n  this._h = 0x5be0cd19\n\n  return this\n}\n\nfunction ch (x, y, z) {\n  return z ^ (x & (y ^ z))\n}\n\nfunction maj (x, y, z) {\n  return (x & y) | (z & (x | y))\n}\n\nfunction sigma0 (x) {\n  return (x >>> 2 | x << 30) ^ (x >>> 13 | x << 19) ^ (x >>> 22 | x << 10)\n}\n\nfunction sigma1 (x) {\n  return (x >>> 6 | x << 26) ^ (x >>> 11 | x << 21) ^ (x >>> 25 | x << 7)\n}\n\nfunction gamma0 (x) {\n  return (x >>> 7 | x << 25) ^ (x >>> 18 | x << 14) ^ (x >>> 3)\n}\n\nfunction gamma1 (x) {\n  return (x >>> 17 | x << 15) ^ (x >>> 19 | x << 13) ^ (x >>> 10)\n}\n\nSha256.prototype._update = function (M) {\n  var W = this._w\n\n  var a = this._a | 0\n  var b = this._b | 0\n  var c = this._c | 0\n  var d = this._d | 0\n  var e = this._e | 0\n  var f = this._f | 0\n  var g = this._g | 0\n  var h = this._h | 0\n\n  for (var i = 0; i < 16; ++i) W[i] = M.readInt32BE(i * 4)\n  for (; i < 64; ++i) W[i] = (gamma1(W[i - 2]) + W[i - 7] + gamma0(W[i - 15]) + W[i - 16]) | 0\n\n  for (var j = 0; j < 64; ++j) {\n    var T1 = (h + sigma1(e) + ch(e, f, g) + K[j] + W[j]) | 0\n    var T2 = (sigma0(a) + maj(a, b, c)) | 0\n\n    h = g\n    g = f\n    f = e\n    e = (d + T1) | 0\n    d = c\n    c = b\n    b = a\n    a = (T1 + T2) | 0\n  }\n\n  this._a = (a + this._a) | 0\n  this._b = (b + this._b) | 0\n  this._c = (c + this._c) | 0\n  this._d = (d + this._d) | 0\n  this._e = (e + this._e) | 0\n  this._f = (f + this._f) | 0\n  this._g = (g + this._g) | 0\n  this._h = (h + this._h) | 0\n}\n\nSha256.prototype._hash = function () {\n  var H = Buffer.allocUnsafe(32)\n\n  H.writeInt32BE(this._a, 0)\n  H.writeInt32BE(this._b, 4)\n  H.writeInt32BE(this._c, 8)\n  H.writeInt32BE(this._d, 12)\n  H.writeInt32BE(this._e, 16)\n  H.writeInt32BE(this._f, 20)\n  H.writeInt32BE(this._g, 24)\n  H.writeInt32BE(this._h, 28)\n\n  return H\n}\n\nmodule.exports = Sha256\n"],"sourceRoot":""}