(this["webpackJsonpfluid-keynotes"]=this["webpackJsonpfluid-keynotes"]||[]).push([[1],{371:function(e,t){},393:function(e,t,n){"use strict";n.r(t),n.d(t,"start",(function(){return O}));var r=n(1),a=n(0),c=n.n(a),s=(n(99),n(35)),o=n.n(s),i=n(201),l=n.n(i),u=n(412),d=n(415),f=n(410),b=n(91),x=n(203),h={initialObjects:{myMap:d.b}},j=(Object(b.a)(),Object(f.a)(),{connection:{tenantId:"b801a86a-3a95-4a4c-883d-edb778658a74",tokenProvider:new x.InsecureTokenProvider("d3a190af6ef61f8f847a7ae40b12d3f4",{id:"userId"}),orderer:"https://alfred.westus2.fluidrelay.azure.com",storage:"https://historian.westus2.fluidrelay.azure.com"}}),p=n(6),y=n(7),g=n(21);function m(e){return Object(g.jsxs)("tr",{className:"whitespace-nowrap",children:[Object(g.jsx)("td",{className:" text-md text-gray-500 font-sans border border-slate-300",children:Object(g.jsx)("input",{type:"text",onChange:function(t){return e.setReference(t.currentTarget.value)},value:e.reference,placeholder:"key",className:"w-full px-6 py-2 font-semibold"})}),Object(g.jsx)("td",{className:"text-md text-gray-500 font-sans border border-slate-300 ",children:Object(g.jsx)("input",{type:"text",onChange:function(t){return e.setText(t.currentTarget.value)},value:e.text,placeholder:"Keynote",className:"w-full px-6 py-2 hover:bg-slate-50 active:bg-slate-100 "})})]})}var v="text_",w="key_";function N(e){var t=e.container,n=o.a.useState(function(e){var t=e.initialObjects.myMap,n=function(e,n){t.set(v+e,n)},r=function(e,n){t.set(w+e,n)};return 0===Array.from(t.keys()).length&&(n(0,"note zero"),r(0,"0"),n(1,"note one"),r(1,"11"),n(2,"note two"),r(2,"22"),n(3,"note three"),r(3,"33")),{CreateNote:function(e){return{id:e,text:t.get(v+e),reference:t.get(w+e)}},SetNoteReference:r,SetNoteText:n,get NoteIds(){return Array.from(t.keys()).filter((function(e){return e.includes(v)})).map((function(e){return e.substring(v.length)}))},setChangeListener:function(e){t.on("valueChanged",e)}}}(t)),r=Object(y.a)(n,1)[0],a=o.a.useState([]),c=Object(y.a)(a,2),s=c[0],i=c[1];o.a.useEffect((function(){var e=function(){var e,t=[],n=r.NoteIds,a=Object(p.a)(n);try{for(a.s();!(e=a.n()).done;){var c=e.value,s=r.CreateNote(c);t.push(s)}}catch(o){a.e(o)}finally{a.f()}i(t)};e(),r.setChangeListener(e)}),[r]);return Object(g.jsxs)("div",{class:"flex flex-col justify-left",children:[Object(g.jsxs)("table",{className:"table-auto w-full border-collapse border-b border-gray-200 shadow ",children:[Object(g.jsx)("thead",{className:"bg-gray-50 ",children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{className:"px-6 py-2 w-40 text-md text-gray-500 border border-slate-300 text-left",children:"Key"}),Object(g.jsx)("th",{className:"px-6 py-2 text-md text-gray-500 border border-slate-300 text-left",children:"Note"})]})}),Object(g.jsx)("tbody",{className:"bg-white",children:s.map((function(e,t){return Object(g.jsx)(m,{id:e.id,reference:e.reference,text:e.text,setText:function(t){!function(e,t){r.SetNoteText(e,t)}(e.id,t)},setReference:function(t){!function(e,t){r.SetNoteReference(e,t)}(e.id,t)}},e.id)}))})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{className:"w-full justify-left  text-left px-4 py-1 hover:bg-slate-50",onClick:function(){var e=Array.from(r.NoteIds).length;r.SetNoteText(e,""),r.SetNoteReference(e,"")},children:Object(g.jsx)("span",{className:"material-icons text-left align-middle opacity-70",children:"add_circle"})})})]})}function O(){return k.apply(this,arguments)}function k(){return(k=Object(r.a)(c.a.mark((function e(){var t,n,r,a,s,i,d,f,b,x;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e=!1;return 0===window.location.hash.length&&(e=!0),{containerId:window.location.hash.substring(1),isNew:e}},n=t(),r=n.containerId,a=n.isNew,s=new u.a(j),!a){e.next=15;break}return e.next=6,s.createContainer(h);case 6:return f=e.sent,i=f.container,d=f.services,e.next=11,i.attach();case 11:b=e.sent,window.location.hash=b,e.next=20;break;case 15:return e.next=17,s.getContainer(r,h);case 17:x=e.sent,i=x.container,d=x.services;case 20:if(d||console.log("missing services"),i.connected){e.next=24;break}return e.next=24,new Promise((function(e){i.once("connected",(function(){e()}))}));case 24:l.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(N,{container:i})}),document.getElementById("root"));case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}O().catch((function(e){return console.error(e)}))},99:function(e,t,n){}},[[393,2,3]]]);
//# sourceMappingURL=main.b6abb3f5.chunk.js.map